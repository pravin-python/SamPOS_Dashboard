<header class="sticky top-0 bg-white/80 dark:bg-gray-950/80 backdrop-blur-lg shadow-sm z-20">
  <div class="flex items-center justify-between h-16 px-4 md:px-6">
    <!-- Left Side: Hamburger & Breadcrumbs -->
    <div class="flex items-center space-x-4">
      <!-- Hamburger Menu (Mobile) -->
      <button id="hamburger-btn" class="lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"><i data-lucide="menu" class="w-6 h-6"></i></button>
    </div>

    <!-- Right Side: Search, Toggle, Notifications, User -->
    <div class="flex items-center space-x-4 md:space-x-6">
      <!-- Search Bar -->
      {% url 'customer:customer' as customer_url %}

      {% if request.path == customer_url %}
        <div class="relative hidden md:block">
          <input type="text" placeholder="Search..." class="w-64 pl-10 pr-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 border border-transparent focus:border-blue-500 focus:ring-blue-500 focus:outline-none" />
          <i data-lucide="search" class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"></i>
        </div>
      {% endif %}
      <!-- Light/Dark Mode Toggle -->
      <div class="relative">
        <label for="dark-mode-toggle" class="flex items-center cursor-pointer">
          <!-- Theme Toggle Button -->
          <button id="theme-toggle" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800">
            <!-- Sun Icon (Light Mode) -->
            <svg id="sun-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>

            <!-- Moon Icon (Dark Mode) -->
            <svg id="moon-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
          </button>
        </label>
      </div>
      <!-- Notifications -->
      <div class="relative">
        <button id="notification-btn" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800">
          <i data-lucide="bell" class="w-6 h-6"></i>
          <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
        </button>
        <!-- Notification Dropdown -->
        <div id="notification-dropdown" class="absolute right-0 top-12 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border dark:border-gray-700 p-4 hidden">
          <h4 class="font-semibold mb-2">Notifications</h4>
          <ul class="space-y-2">
            <li class="flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
              <div class="p-2 bg-green-100 dark:bg-green-900 rounded-full">
                <i data-lucide="shopping-cart" class="w-5 h-5 text-green-500"></i>
              </div>
              <div>
                <p class="text-sm">New order #12345 received.</p>
                <span class="text-xs text-gray-400">2 minutes ago</span>
              </div>
            </li>
            <li class="flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
              <div class="p-2 bg-red-100 dark:bg-red-900 rounded-full">
                <i data-lucide="package-x" class="w-5 h-5 text-red-500"></i>
              </div>
              <div>
                <p class="text-sm">Product "Coffee Beans" is low on stock.</p>
                <span class="text-xs text-gray-400">1 hour ago</span>
              </div>
            </li>
            <li class="flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
              <div class="p-2 bg-blue-100 dark:bg-blue-900 rounded-full">
                <i data-lucide="user-plus" class="w-5 h-5 text-blue-500"></i>
              </div>
              <div>
                <p class="text-sm">New customer "Jane Doe" registered.</p>
                <span class="text-xs text-gray-400">3 hours ago</span>
              </div>
            </li>
          </ul>
          <button class="w-full text-center mt-4 text-sm text-blue-500 hover:underline">View All Notifications</button>
        </div>
      </div>

      <!-- User Profile -->
      <div class="relative">
        <button id="user-btn" class="flex items-center space-x-2">
          <img src="https://placehold.co/40x40/E2E8F0/4A5568?text=A" alt="User" class="w-10 h-10 rounded-full border-2 border-transparent hover:border-blue-500" />
          <div class="hidden md:block text-left">
            <span class="font-semibold text-sm">Admin User</span>
            <span class="block text-xs text-gray-500">Super Admin</span>
          </div>
        </button>
        <!-- User Dropdown -->
        <div id="user-dropdown" class="absolute right-0 top-12 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border dark:border-gray-700 py-2 hidden">
          <a href="#" class="flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700"><i data-lucide="user" class="w-4 h-4 mr-2"></i> Profile</a>
          <a href="#" data-page="settings" class="nav-link flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700"><i data-lucide="settings" class="w-4 h-4 mr-2"></i> Settings</a>
          <!-- Change Password -->
          <a href="{% url 'core:password_change' %}" class="flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700"><i data-lucide="lock" class="w-4 h-4 mr-2"></i> Change Password</a>
          <hr class="my-2 border-gray-200 dark:border-gray-700" />
          <a href="{% url 'core:logout' %}" class="flex items-center px-4 py-2 text-sm text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700"><i data-lucide="log-out" class="w-4 h-4 mr-2"></i> Logout</a>
        </div>
      </div>
    </div>
  </div>
</header>
